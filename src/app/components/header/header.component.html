<nav class="navbar navbar-dark navbar-expand-lg d-flex justify-content-end p-0" style="height: 60px;z-index: 1;">
  <div class="container-fluid p-0">
    <div class="d-inline-flex">
      <div class="vr me-2 ms-2"></div>
      <div class="d-flex h5 align-items-center m-0">
        <i class="bi bi-clipboard2-pulse icon"></i>&nbsp;&nbsp;
        <span class="fw-semibold">Portale Rendicontazione</span>
      </div>
    </div>
  </div>

  @if (username) {
    <div class="d-flex me-2 align-items-center" style="height: 60px">
      <!-- @if (isOperation) {
        <i class="bi bi-gear-fill" style="cursor: pointer;" (click)="goToSettings()"></i>
       <button class="btn rounded bg-white p-1 ps-3 pe-3 text-primary fw-bold" (click)="openUploadPage()">
          <small>
            <i class="fa-solid fa-upload"></i>
            Carica flusso digitale
          </small>
        </button> 
      }
      @else {
        <i class="bi bi-gear-fill" style="cursor: pointer;opacity: 0.5;" disabled></i>
      } -->
      <div class="vr me-2 ms-2"></div>
      <button
        class="btn d-inline-flex align-items-center"
        autoClose="outside"
        [ngbTooltip]="popOverTemplate"
        #t="ngbTooltip"
        triggers="manual"
        (click)="t.isOpen() ? t.close() : t.open()">
        @if (userAvatar) {
          <div class="me-2">
            <img [src]="userAvatar" class="rounded-circle" style="width: 30px" alt="Avatar" />
          </div>
        }
        <div class="nav-link text-center text-white cursor-pointer fw-bold">
          <small>{{ username }}</small>
          &nbsp;&nbsp;
          <i class="bi bi-chevron-down" style="color: white;"></i>
        </div>
   
        <ng-template #popOverTemplate>
          <div class="row">
            <button class="btn col fw-semibold text-start" (click)="logout()"><small> Logout</small></button>
          </div>
        </ng-template>
      </button>
    </div>
  }
</nav>